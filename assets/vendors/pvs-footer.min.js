(function(z){typeof define=="function"&&define.amd?define(z):z()})(function(){"use strict";const{on:z}=window.ivent;function Ge(){z(document,"click","[data-clipboard-text]",async t=>{t.preventDefault();try{await navigator.clipboard.writeText(t.delegateTarget.getAttribute("data-clipboard-text"))}catch(e){console.error(e)}})}const{on:Ye}=window.ivent;function Xe(){document.querySelectorAll(".collapse").forEach(t=>{if(getComputedStyle(t).visibility!=="hidden"){const e=t.parentNode.querySelector(".collapse-toggle");e.ariaExpanded="true"}t.classList.add("collapse-ready")}),Ye(document,"click",".collapse-toggle",t=>{t.preventDefault();const e=t.delegateTarget,n=e.parentNode.querySelector(".collapse:not(.collapse-ready)");n?n.classList.add("collapse-ready"):(!n||n&&getComputedStyle(n).visibility==="hidden")&&(e.ariaExpanded=String(e.ariaExpanded!=="true"))})}const{on:ae,trigger:Ze}=window.ivent;function oe(){return document.documentElement.getAttribute("data-color-scheme")}function ie(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function se(){const t=oe();return t==="system"?ie():t}function G(t){document.documentElement.setAttribute("data-color-scheme",t),localStorage.setItem("color-scheme",t)}let ce=!1;function le(){const t=document.querySelector('script[src*="comments-ui"]');if(!t)return;const e=se();t.setAttribute("data-color-scheme",e),ce||(ce=t.getAttribute("data-accent-color")==="#000000"),ce&&t.setAttribute("data-accent-color",e==="dark"?"#525252":"#000000")}function Je(){ae(document,"click",".toggle-color-scheme-button",t=>{t.preventDefault();const e=t.delegateTarget.getAttribute("value"),n=oe(),r=se();if(n!==e){if(document.documentElement.classList.add("stop-transition"),/(?=.*dark)(?=.*light)(?=.*system)/g.test(e)){const o=ie()==="dark"?["dark","system","light"]:["light","system","dark"],s=o[o.indexOf(n)+1]||o[0];G(s)}else/(?=.*dark)(?=.*light)/g.test(e)?G(r==="dark"?"light":"dark"):G(e);Ze(document,"pvs.dark-mode.toggle"),document.documentElement.offsetHeight,document.documentElement.classList.remove("stop-transition")}}),le(),ae(window,"load",()=>{le()}),ae(document,"pvs.dark-mode.toggle pvs.navigation.content-rendered",()=>{le()})}const{on:q}=window.ivent,Qe={selector:".dropdown",toggleSelector:".dropdown-toggle",preventCloseSelector:".toggle-color-scheme-button, .collapse-toggle"};function et(t){const e={...Qe,...t};let n=null,r=null;function o(d){n&&s(),r=d,r.setAttribute("aria-expanded","true"),n=d.parentNode.querySelector(`:scope > ${e.selector}`),n.classList.add("show")}function s(){n&&(n.classList.remove("show"),r.setAttribute("aria-expanded","false"),r=null,n=null)}function a(d){d.preventDefault();const b=d.delegateTarget;n&&b===r?s():o(b)}function l(d){if(!n)return;const b=d.target,g=n.contains(b),w=r.contains(b),D=b.closest(e.preventCloseSelector),N=b.matches("a, button")||b.closest("a, button");if(!(w||D)){if(!g){s();return}N&&s()}}function u(d){d.key==="Escape"&&n&&(r.focus(),s())}function p(){n&&requestAnimationFrame(()=>{if(!n)return;const d=document.activeElement;!n.contains(d)&&d!==r&&s()})}function h(){document.querySelectorAll(e.selector).forEach(d=>{d.classList.contains("dropdown-ready")||(d.classList.add("dropdown-ready"),window.getComputedStyle(d).opacity==="1"&&!d.classList.contains("show")&&o(d.parentNode.querySelector(e.toggleSelector)))})}h(),q(document,"pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",h),q(document,"click",e.toggleSelector,a),q(document,"click",l),q(document,"keyup",u),q(document,"focusout",`${e.selector}, ${e.toggleSelector}`,p)}const{on:ye}=window.ivent,tt=["youtube.com","youtube-nocookie.com","player.vimeo.com","kickstarter.com","dailymotion.com","wistia.com","wistia.net","twitch.tv","clips.twitch.tv","facebook.com","tiktok.com","instagram.com","iframe.mediadelivery.net","video.bunnycdn.com"],Y=tt.map(t=>`[src*="${t}"]`).join(","),nt=`
	.tag-hash-video .post-content > .kg-video-card:first-child,
	.tag-hash-video .post-content > .kg-embed-card:first-child:has(> iframe:where(${Y})),
	.tag-hash-video .post-content > iframe:first-child:where(${Y})
`,rt=`
	.kg-video-card:first-child video,
	.kg-embed-card:first-child:has(> iframe:where(${Y})),
	iframe:first-child:where(${Y})
`,R={media:"post-media",mediaCard:"post-card-media",featuredVideo:"post-featured-video",ready:"post-featured-video-ready"};function we(){document.querySelectorAll(nt).forEach(t=>{const e=t.closest("article"),n=e.querySelector(`.${R.media}`);n.querySelector(`.${R.featuredVideo}`)||(n.append(t),t.classList.add(R.featuredVideo),e.classList.add(R.ready))})}function at(t){t.matches("video:not([loop])")&&(t.setAttribute("loop",""),t.setAttribute("autoplay",""),t.setAttribute("muted",""),t.setAttribute("playsinline",""))}function ot(t){const e=t.tagName==="IFRAME"&&(t.src.includes("youtube.com")||t.src.includes("youtube-nocookie.com"))?t:t.querySelector('iframe[src*="youtube.com"], iframe[src*="youtube-nocookie.com"]');if(!e)return;const n=new URL(e.src);n.searchParams.set("autoplay","1"),n.searchParams.set("mute","1"),n.searchParams.set("loop","1");const r=n.pathname.split("/").pop();n.searchParams.set("playlist",r),n.searchParams.set("controls","0"),n.searchParams.set("modestbranding","1"),n.searchParams.set("rel","0"),e.src=n.toString()}function it(t){const e=t.tagName==="IFRAME"&&t.src.includes("vimeo.com")?t:t.querySelector('iframe[src*="vimeo.com"]');if(!e)return;const n=new URL(e.src);n.searchParams.set("autoplay","1"),n.searchParams.set("muted","1"),n.searchParams.set("loop","1"),n.searchParams.set("background","1"),e.src=n.toString()}function Se(){document.querySelectorAll(`.${R.mediaCard} > template`).forEach(t=>{const e=t.content.querySelector(rt);e&&(at(e),ot(e),it(e),e.classList.add(R.featuredVideo),t.after(e.cloneNode(!0))),t.remove()})}function st(){we(),ye(document,"ready pvs.pagination.rendered pvs.navigation.content-rendered",we)}function ct(){Se(),ye(document,"ready pvs.pagination.rendered pvs.navigation.content-rendered",Se)}var lt='import _ from"PHOTOSWIPE_CDN_URL";import P from"PHOTOSWIPE_LIGHTBOX_CDN_URL";if(!document.querySelector(\'link[href*="photoswipe"]\')){const t=document.createElement("link");t.rel="stylesheet",t.href="PHOTOSWIPE_CSS_URL",document.head.appendChild(t)}const{on:L}=window.ivent,u=window.OPTIONS,c={classes:{lightbox:"lightbox",trigger:"lightbox-trigger"},fallback:{width:800,height:600}},w=t=>{if(!t)return null;let n=0,e="";for(const o of t.split(",").map(r=>r.trim())){const r=o.split(" "),i=r[r.length-1]?.match(/(\\d+)w$/);if(i){const s=parseInt(i[1],10);s>n&&(n=s,e=r[0])}}return n>0?{width:n,src:e}:null},S=t=>{const n=[],e=t.closest("picture");e&&e.querySelectorAll("source").forEach(r=>{const i=r.getAttribute("srcset");i&&n.push(i)});const o=t.getAttribute("srcset");return o&&n.push(o),n},R=t=>{const n=S(t);for(const e of n){const o=w(e);if(o)return o.src}return t.currentSrc||t.src},k=(t,n)=>{if(!t||!n.naturalWidth)return null;const e=n.naturalHeight/n.naturalWidth;return{w:t,h:Math.round(t*e)}},D=t=>{const n=()=>{const e=S(t);for(const o of e){const r=w(o);if(r){const i=k(r.width,t);if(i)return i}}return{w:t.naturalWidth,h:t.naturalHeight}};return t.complete&&t.naturalWidth>0?Promise.resolve(n()):new Promise(e=>{const o=()=>e(n()),r=()=>e({w:c.fallback.width,h:c.fallback.height});t.addEventListener("load",o,{once:!0}),t.addEventListener("error",r,{once:!0})})},C=t=>parseFloat(t.getAttribute("data-lightbox-radius")||0),$=t=>{const n=getComputedStyle(t);return parseFloat(n.getPropertyValue("--lightbox--border-radius")||n.getPropertyValue("border-radius")||0)},p=t=>{let n=t.nextElementSibling;return n.tagName!=="IMG"&&(n=n.querySelector("img")),n},d=(t,n)=>{Object.assign(t.style,n)},y=(t,n,e,o)=>{d(t,{transitionProperty:"transform, top, left, width, height, border-radius",transitionDuration:`${e}ms`,transitionTimingFunction:o||"linear"}),Object.assign(t.style,n)},I=(t,n,e)=>{let o=!1,r=0,i=0,s=!1;const l=a=>{(a.target===t||a.target===n)&&!a.button&&(a.preventDefault(),e.click())},m=a=>{const h=a.touches[0];r=h.clientX,i=h.clientY,s=!1},f=a=>{if(a.touches.length>1){s=!0;return}const h=a.touches[0],E=Math.abs(h.clientX-r),T=Math.abs(h.clientY-i);(E>10||T>10)&&(s=!0)},g=a=>{s||(o=!0,l(a),setTimeout(()=>{o=!1},300))},b=a=>{o||l(a)};return t.addEventListener("touchstart",m),t.addEventListener("touchmove",f),t.addEventListener("touchend",g),t.addEventListener("mousedown",b),()=>{t.removeEventListener("touchstart",m),t.removeEventListener("touchmove",f),t.removeEventListener("touchend",g),t.removeEventListener("mousedown",b)}},A=(t,n,e,o)=>{const r=C(t.data.element);d(n._cropContainer1,{transform:""}),d(n._cropContainer2,{transform:""}),d(t.container,{transform:t.getCurrentTransform()});const i=o.getBoundingClientRect(),s={top:`${e.y-e.innerRect.y-t.pan.y}px`,left:`${e.x-e.innerRect.x-t.pan.x}px`,width:`${e.innerRect.w}px`,height:`${e.innerRect.h}px`,borderRadius:`${r}px`},l={top:"0px",left:"0px",width:`${i.width}px`,height:`${i.height}px`,borderRadius:"0px"};return{thumbnailPosition:s,fullSizePosition:l}},v=(t,n,e)=>{const o=e===1?t.options.showAnimationDuration:t.options.hideAnimationDuration;t.animations.startTransition({opacity:e,duration:o,easing:t.options.easing,onComplete:()=>{t.animations.activeAnimations.length||n._onAnimationComplete()},target:t.bg})},F=()=>{const t=new P({gallery:u.selector,children:`.${c.classes.trigger}`,loop:!1,bgOpacity:1,imageClickAction:"close",doubleTapAction:!1,pswpModule:_,showHideAnimationType:"zoom",showAnimationDuration:u.showAnimationDuration,hideAnimationDuration:u.hideAnimationDuration,easing:u.animationEasing,indexIndicatorSep:" of "});t.addFilter("thumbEl",(e,o,r)=>p(o.element)),t.addFilter("placeholderSrc",(e,o)=>o.element?.src),t.addFilter("uiElement",(e,o)=>((o.name==="close"||o.name==="zoom"||o.name==="counter")&&(o.appendTo="wrapper"),e)),t.on("openingAnimationStart",()=>{const{pswp:e}=t,o=e.currSlide,r=e.opener,i=e._initialThumbBounds||e.getThumbBounds();i&&i.innerRect&&r._placeholder&&(r._animateToOpenState=()=>{o.zoomAndPanToInitial();const{thumbnailPosition:s,fullSizePosition:l}=A(o,r,i,r._placeholder);d(r._placeholder,{...s,position:"absolute",transform:"none"}),r._placeholder.offsetHeight,y(r._placeholder,l,e.options.showAnimationDuration,e.options.easing),v(e,r,1)})}),t.on("closingAnimationStart",()=>{const{pswp:e}=t,o=e.currSlide,r=e.opener,i=e._thumbBounds||e.getThumbBounds();i&&i.innerRect&&o.content.element&&(r._animateToClosedState=()=>{const{thumbnailPosition:s,fullSizePosition:l}=A(o,r,i,o.content.element);r._placeholder&&d(r._placeholder,{opacity:0,transition:"none"}),d(o.content.element,{...l,position:"absolute"}),o.content.element.offsetHeight,y(o.content.element,s,e.options.hideAnimationDuration,e.options.easing),v(e,r,0)})});let n=null;t.on("change",()=>{const{pswp:e}=t,o=e.currSlide,r=p(o.data.element);n&&(r.style.visibility="hidden",n.style.visibility=""),n=r}),t.on("openingAnimationStart",()=>{const{pswp:e}=t,o=e.currSlide,r=p(o.data.element);r.style.visibility="hidden"}),t.on("closingAnimationEnd",()=>{const{pswp:e}=t,o=e.currSlide,r=p(o.data.element);r.style.visibility="",n=null});try{t.init()}catch(e){console.error("Failed to initialize PhotoSwipe:",e)}},M=t=>{try{if(t.closest(`.${c.classes.lightbox}`)||t.closest("a"))return;const n=t.tagName==="IMG"?t:t.querySelector("img");if(!n)return;t.classList.add(c.classes.lightbox);const e=R(n),o=H({src:e,width:c.fallback.width,height:c.fallback.height});D(n).then(r=>{r&&(r.w!==c.fallback.width||r.h!==c.fallback.height)&&(o.setAttribute("data-pswp-width",r.w),o.setAttribute("data-pswp-height",r.h))}).catch(()=>{}),o.setAttribute("data-lightbox-radius",$(t)),t.before(o),I(t,n,o)}catch(n){console.warn("Failed to process gallery image:",n)}},H=t=>{const n=document.createElement("a");return n.classList.add(c.classes.trigger,"no-ajax"),n.href=t.src,n.ariaLabel=u.labels.trigger,n.ariaExpanded="false",n.setAttribute("data-pswp-width",t.width),n.setAttribute("data-pswp-height",t.height),n.setAttribute("data-cropped","true"),n},x=()=>{const t=document.querySelectorAll(u.selector);for(const n of t){const e=n.querySelectorAll(u.imagesSelector);for(const o of e)M(o)}F()};x(),L(document,"ready pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",()=>{x()});\n';const{on:ut}=window.ivent,Te={initialized:!1,selector:".kg-gallery-container, .kg-image-card, .kg-gallery-image",imagesSelector:"picture, img",showAnimationDuration:330,hideAnimationDuration:250,animationEasing:"cubic-bezier(0.16, 1, 0.3, 1)",photoswipeUrl:"https://cdn.jsdelivr.net/npm/photoswipe@5.4/+esm",photoswipeLightboxUrl:"https://cdn.jsdelivr.net/npm/photoswipe@5.4/dist/photoswipe-lightbox.esm.js",photoswipeCSSUrl:"https://cdn.jsdelivr.net/npm/photoswipe@5.4/dist/photoswipe.min.css",labels:{trigger:"Open lightbox"}};function dt(t={}){const e={...Te,...t},n=document.createElement("script");n.type="module",n.innerHTML=lt.replace("PHOTOSWIPE_CDN_URL",e.photoswipeUrl).replace("PHOTOSWIPE_LIGHTBOX_CDN_URL",e.photoswipeLightboxUrl).replace("PHOTOSWIPE_CSS_URL",e.photoswipeCSSUrl).replace("window.OPTIONS",JSON.stringify(e)),document.head.appendChild(n)}function ft(t={}){const e=window.pvs;e&&ut(document,"ready pvs.navigation.content-rendered",()=>{const n={...Te,...t,...e.getLightboxUserOptions()};e.isLightboxDisabled()||(n.initialized||document.body.classList.contains("tag-hash-lightbox"))&&dt(n)})}function ue(t,e,n){var r=n||{},o=r.noTrailing,s=o===void 0?!1:o,a=r.noLeading,l=a===void 0?!1:a,u=r.debounceMode,p=u===void 0?void 0:u,h,d=!1,b=0;function g(){h&&clearTimeout(h)}function w(N){var C=N||{},L=C.upcomingOnly,H=L===void 0?!1:L;g(),d=!H}function D(){for(var N=arguments.length,C=new Array(N),L=0;L<N;L++)C[L]=arguments[L];var H=this,j=Date.now()-b;if(d)return;function O(){b=Date.now(),e.apply(H,C)}function U(){h=void 0}!l&&p&&!h&&O(),g(),p===void 0&&j>t?l?(b=Date.now(),s||(h=setTimeout(p?U:O,t))):O():s!==!0&&(h=setTimeout(p?U:O,p===void 0?t-j:t))}return D.cancel=w,D}function Ae(t,e,n){var r={},o=r.atBegin,s=o===void 0?!1:o;return ue(t,e,{debounceMode:s!==!1})}const Ee=new Map;function pt(t,e,n){return Ee.set(`${t}:${e}`,n)}function ht(t,e){return Ee.get(`${t}:${e}`)}function gt(t){return t.replace(/#.*/,"")}async function vt(t,e=!0,n={}){const r=gt(t);if(e){const a=ht("ajax",r);if(a)return a}const o=await fetch(r,n);if(!o.ok)throw o.status;const s=await o.text();return pt("ajax",r,s),s}function mt(t){return new DOMParser().parseFromString(t,"text/html")}function M(t){const e=document.createElement("script");Array.from(t.attributes).forEach(n=>e.setAttribute(n.name,n.value)),t.innerHTML&&(e.innerHTML=t.innerHTML),t.replaceWith(e)}let X;function bt(){return X||(X=new MutationObserver(t=>{t.forEach(e=>{if(e.type==="childList"&&e.addedNodes.length)for(let n=e.addedNodes.length-1;n>=0;n--){const r=e.addedNodes[n];if(r.nodeType===Node.ELEMENT_NODE&&r.nodeName==="SPAN"&&r.parentElement===document.body&&r.attributes.length===0&&/^\d+(?:\s+\S+)*$/.test(r.textContent.trim())){r.remove();break}}})}),X.observe(document.body,{childList:!0,subtree:!1}),X)}function yt(){const t=document.head.getElementsByTagName("style");for(const e of t)if(e.textContent.trim().startsWith(".gh-portal-account-header{display:flex;flex-direction:column;align-items:center;margin:0 0 32px")){e.remove();break}}function wt(t){const e=t.querySelectorAll("script");if(e&&e.forEach(n=>{M(n)}),t.querySelector("[data-ghost-search]")){document.querySelectorAll("#sodo-search-root").forEach(r=>r.remove());const n=document.querySelector('script[src*="sodo-search"]');n&&M(n)}if(t.querySelector(".kg-video-card, .kg-audio-card, .kg-toggle-card, .kg-gallery-image")){const n=document.querySelector('script[src*="cards"]');n&&M(n)}if(t.querySelector('[data-lexical-signup-form], [data-members-form], [data-portal], [href*="#/portal"]')){const n=document.querySelector('script[src*="ghost/portal"]');n&&(document.querySelectorAll("#ghost-portal-root").forEach(r=>r.remove()),yt(),M(n))}if(t.querySelector("[data-ghost-comment-count]")){const n=document.querySelector('script[src*="comment-counts"]');n&&(bt(),M(n))}}const{on:St,trigger:ke}=window.ivent;function de(t){const e=t.getAttribute("href");if(!e){t.classList.remove("loading"),t.classList.add("complete"),t.classList.add("intersecting");return}t.classList.add("loading");const n=t.getAttribute("data-pagination-append")||t.getAttribute("data-pagination-prepend"),r=t.getAttribute("data-pagination-from")||n,o=t.hasAttribute("data-pagination-prepend")?"prepend":"append",s=document.querySelectorAll(n),a=`[data-pagination-${o}]`,l=t.getAttribute("data-pagination")==="infinite";vt(e).then(u=>{const p=mt(u),h=p.querySelector(r),d=h.parentNode.querySelector(a)?.getAttribute("href");s.forEach(b=>{const g={href:d,page:p,toSelector:n,fromSelector:r,insertPosition:o,insertTo:b,insertFrom:h,insertCallback:!1};ke(document,"pvs.pagination.render",{data:g,relatedTarget:t});const w=g.insertTo.parentNode.querySelector(a);w&&(w.classList.remove("loading"),g.href?w.setAttribute("href",g.href):(w.classList.add("complete"),w.classList.remove("intersecting"),w.removeAttribute("href"),g.insertPosition==="prepend"&&w.remove())),typeof g.insertCallback=="function"?g.insertCallback(g.insertTo,g.insertPosition,g.insertFrom.innerHTML):g.insertTo.insertAdjacentHTML(g.insertPosition==="prepend"?"afterbegin":"beforeend",g.insertFrom.innerHTML),wt(g.insertTo),ke(document,"pvs.pagination.rendered",{data:g,relatedTarget:t}),l&&w&&setTimeout(()=>{w.classList.contains("intersecting")&&w.getAttribute("href")&&!w.classList.contains("loading")&&de(w)},100)})}).catch(u=>{u===404&&(t.removeAttribute("href"),t.classList.remove("loading"),t.classList.remove("intersecting"),t.classList.add("complete")),console.error(new Error("Failed to fetch page"))})}function Tt(){St(document,"click","[data-pagination][href]",n=>{n.preventDefault();const r=n.delegateTarget;r.classList.contains("loading")||(de(r),r.getAttribute("data-pagination")==="load-more-infinite"&&r.setAttribute("data-pagination","infinite"))});const t=new IntersectionObserver((n,r)=>{try{n.forEach(o=>{if(!(!o.target||o.target.classList.contains("loading"))){if(!o.target.getAttribute("href")){r.disconnect();return}o.isIntersecting?(o.target.classList.add("intersecting"),de(o.target)):o.target.classList.remove("intersecting")}})}catch(o){console.log(o)}},{rootMargin:"300px 0px"}),e=ue(200,()=>{document.querySelectorAll('[data-pagination="infinite"][href]:not(.pvs-pagination-infinite-handled)').forEach(n=>{n.classList.add("pvs-pagination-infinite-handled"),t.observe(n)})});new MutationObserver(e).observe(document.documentElement,{childList:!0,subtree:!0})}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Le=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Z=Le.join(","),Ne=typeof Element>"u",F=Ne?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,J=!Ne&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Q=function t(e,n){var r;n===void 0&&(n=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=o===""||o==="true",a=s||n&&e&&t(e.parentNode);return a},At=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},Ce=function(e,n,r){if(Q(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Z));return n&&F.call(e,Z)&&o.unshift(e),o=o.filter(r),o},Pe=function t(e,n,r){for(var o=[],s=Array.from(e);s.length;){var a=s.shift();if(!Q(a,!1))if(a.tagName==="SLOT"){var l=a.assignedElements(),u=l.length?l:a.children,p=t(u,!0,r);r.flatten?o.push.apply(o,p):o.push({scopeParent:a,candidates:p})}else{var h=F.call(a,Z);h&&r.filter(a)&&(n||!e.includes(a))&&o.push(a);var d=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),b=!Q(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(d&&b){var g=t(d===!0?a.children:d.children,!0,r);r.flatten?o.push.apply(o,g):o.push({scopeParent:a,candidates:g})}else s.unshift.apply(s,a.children)}}return o},Fe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},x=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||At(e))&&!Fe(e)?0:e.tabIndex},Et=function(e,n){var r=x(e);return r<0&&n&&!Fe(e)?0:r},kt=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},xe=function(e){return e.tagName==="INPUT"},Lt=function(e){return xe(e)&&e.type==="hidden"},Nt=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Ct=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Pt=function(e){if(!e.name)return!0;var n=e.form||J(e),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=Ct(o,e.form);return!s||s===e},Ft=function(e){return xe(e)&&e.type==="radio"},xt=function(e){return Ft(e)&&!Pt(e)},Dt=function(e){var n,r=e&&J(e),o=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var a,l,u;for(s=!!((a=o)!==null&&a!==void 0&&(l=a.ownerDocument)!==null&&l!==void 0&&l.contains(o)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!s&&o;){var p,h,d;r=J(o),o=(p=r)===null||p===void 0?void 0:p.host,s=!!((h=o)!==null&&h!==void 0&&(d=h.ownerDocument)!==null&&d!==void 0&&d.contains(o))}}return s},De=function(e){var n=e.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Ot=function(e,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=F.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(F.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var l=e;e;){var u=e.parentElement,p=J(e);if(u&&!u.shadowRoot&&o(u)===!0)return De(e);e.assignedSlot?e=e.assignedSlot:!u&&p!==e.ownerDocument?e=p.host:e=u}e=l}if(Dt(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return De(e);return!1},$t=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return F.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},ee=function(e,n){return!(n.disabled||Q(n)||Lt(n)||Ot(n,e)||Nt(n)||$t(n))},fe=function(e,n){return!(xt(n)||x(n)<0||!ee(e,n))},Rt=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},It=function t(e){var n=[],r=[];return e.forEach(function(o,s){var a=!!o.scopeParent,l=a?o.scopeParent:o,u=Et(l,a),p=a?t(o.candidates):l;u===0?a?n.push.apply(n,p):n.push(l):r.push({documentOrder:s,tabIndex:u,item:o,isScope:a,content:p})}),r.sort(kt).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(n)},qt=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Pe([e],n.includeContainer,{filter:fe.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Rt}):r=Ce(e,n.includeContainer,fe.bind(null,n)),It(r)},Mt=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Pe([e],n.includeContainer,{filter:ee.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=Ce(e,n.includeContainer,ee.bind(null,n)),r},I=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return F.call(e,Z)===!1?!1:fe(n,e)},_t=Le.concat("iframe").join(","),pe=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return F.call(e,_t)===!1?!1:ee(n,e)};/*!
* focus-trap 7.6.5
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function he(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Bt(t){if(Array.isArray(t))return he(t)}function Ht(t,e,n){return(e=Vt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function $e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oe(Object(n),!0).forEach(function(r){Ht(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kt(t){return Bt(t)||jt(t)||zt(t)||Ut()}function Wt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vt(t){var e=Wt(t,"string");return typeof e=="symbol"?e:e+""}function zt(t,e){if(t){if(typeof t=="string")return he(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(t,e):void 0}}var Re={activateTrap:function(e,n){if(e.length>0){var r=e[e.length-1];r!==n&&r._setPausedState(!0)}var o=e.indexOf(n);o===-1||e.splice(o,1),e.push(n)},deactivateTrap:function(e,n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},Gt=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Yt=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},_=function(e){return e?.key==="Tab"||e?.keyCode===9},Xt=function(e){return _(e)&&!e.shiftKey},Zt=function(e){return _(e)&&e.shiftKey},Ie=function(e){return setTimeout(e,0)},B=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,r):e},te=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Jt=[],Qt=function(e,n){var r=document,o=Jt,s=$e({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Xt,isKeyBackward:Zt},n),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,u=function(i,c,f){return i&&i[c]!==void 0?i[c]:s[f||c]},p=function(i,c){var f=typeof c?.composedPath=="function"?c.composedPath():void 0;return a.containerGroups.findIndex(function(m){var y=m.container,T=m.tabbableNodes;return y.contains(i)||f?.includes(y)||T.find(function(v){return v===i})})},h=function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=c.hasFallback,m=f===void 0?!1:f,y=c.params,T=y===void 0?[]:y,v=s[i];if(typeof v=="function"&&(v=v.apply(void 0,Kt(T))),v===!0&&(v=void 0),!v){if(v===void 0||v===!1)return v;throw new Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var E=v;if(typeof v=="string"){try{E=r.querySelector(v)}catch(k){throw new Error("`".concat(i,'` appears to be an invalid selector; error="').concat(k.message,'"'))}if(!E&&!m)throw new Error("`".concat(i,"` as selector refers to no known node"))}return E},d=function(){var i=h("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!pe(i,s.tabbableOptions))if(p(r.activeElement)>=0)i=r.activeElement;else{var c=a.tabbableGroups[0],f=c&&c.firstTabbableNode;i=f||h("fallbackFocus")}else i===null&&(i=h("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i},b=function(){if(a.containerGroups=a.containers.map(function(i){var c=qt(i,s.tabbableOptions),f=Mt(i,s.tabbableOptions),m=c.length>0?c[0]:void 0,y=c.length>0?c[c.length-1]:void 0,T=f.find(function(k){return I(k)}),v=f.slice().reverse().find(function(k){return I(k)}),E=!!c.find(function(k){return x(k)>0});return{container:i,tabbableNodes:c,focusableNodes:f,posTabIndexesFound:E,firstTabbableNode:m,lastTabbableNode:y,firstDomTabbableNode:T,lastDomTabbableNode:v,nextTabbableNode:function($){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,P=c.indexOf($);return P<0?W?f.slice(f.indexOf($)+1).find(function(V){return I(V)}):f.slice(0,f.indexOf($)).reverse().find(function(V){return I(V)}):c[P+(W?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(i){return i.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!h("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(i){return i.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},g=function(i){var c=i.activeElement;if(c)return c.shadowRoot&&c.shadowRoot.activeElement!==null?g(c.shadowRoot):c},w=function(i){if(i!==!1&&i!==g(document)){if(!i||!i.focus){w(d());return}i.focus({preventScroll:!!s.preventScroll}),a.mostRecentlyFocusedNode=i,Gt(i)&&i.select()}},D=function(i){var c=h("setReturnFocus",{params:[i]});return c||(c===!1?!1:i)},N=function(i){var c=i.target,f=i.event,m=i.isBackward,y=m===void 0?!1:m;c=c||te(f),b();var T=null;if(a.tabbableGroups.length>0){var v=p(c,f),E=v>=0?a.containerGroups[v]:void 0;if(v<0)y?T=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:T=a.tabbableGroups[0].firstTabbableNode;else if(y){var k=a.tabbableGroups.findIndex(function(me){var be=me.firstTabbableNode;return c===be});if(k<0&&(E.container===c||pe(c,s.tabbableOptions)&&!I(c,s.tabbableOptions)&&!E.nextTabbableNode(c,!1))&&(k=v),k>=0){var $=k===0?a.tabbableGroups.length-1:k-1,W=a.tabbableGroups[$];T=x(c)>=0?W.lastTabbableNode:W.lastDomTabbableNode}else _(f)||(T=E.nextTabbableNode(c,!1))}else{var P=a.tabbableGroups.findIndex(function(me){var be=me.lastTabbableNode;return c===be});if(P<0&&(E.container===c||pe(c,s.tabbableOptions)&&!I(c,s.tabbableOptions)&&!E.nextTabbableNode(c))&&(P=v),P>=0){var V=P===a.tabbableGroups.length-1?0:P+1,ze=a.tabbableGroups[V];T=x(c)>=0?ze.firstTabbableNode:ze.firstDomTabbableNode}else _(f)||(T=E.nextTabbableNode(c))}}else T=h("fallbackFocus");return T},C=function(i){var c=te(i);if(!(p(c,i)>=0)){if(B(s.clickOutsideDeactivates,i)){l.deactivate({returnFocus:s.returnFocusOnDeactivate});return}B(s.allowOutsideClick,i)||i.preventDefault()}},L=function(i){var c=te(i),f=p(c,i)>=0;if(f||c instanceof Document)f&&(a.mostRecentlyFocusedNode=c);else{i.stopImmediatePropagation();var m,y=!0;if(a.mostRecentlyFocusedNode)if(x(a.mostRecentlyFocusedNode)>0){var T=p(a.mostRecentlyFocusedNode),v=a.containerGroups[T].tabbableNodes;if(v.length>0){var E=v.findIndex(function(k){return k===a.mostRecentlyFocusedNode});E>=0&&(s.isKeyForward(a.recentNavEvent)?E+1<v.length&&(m=v[E+1],y=!1):E-1>=0&&(m=v[E-1],y=!1))}}else a.containerGroups.some(function(k){return k.tabbableNodes.some(function($){return x($)>0})})||(y=!1);else y=!1;y&&(m=N({target:a.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(a.recentNavEvent)})),w(m||a.mostRecentlyFocusedNode||d())}a.recentNavEvent=void 0},H=function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=i;var f=N({event:i,isBackward:c});f&&(_(i)&&i.preventDefault(),w(f))},j=function(i){(s.isKeyForward(i)||s.isKeyBackward(i))&&H(i,s.isKeyBackward(i))},O=function(i){Yt(i)&&B(s.escapeDeactivates,i)!==!1&&(i.preventDefault(),l.deactivate())},U=function(i){var c=te(i);p(c,i)>=0||B(s.clickOutsideDeactivates,i)||B(s.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())},We=function(){if(a.active)return Re.activateTrap(o,l),a.delayInitialFocusTimer=s.delayInitialFocus?Ie(function(){w(d())}):w(d()),r.addEventListener("focusin",L,!0),r.addEventListener("mousedown",C,{capture:!0,passive:!1}),r.addEventListener("touchstart",C,{capture:!0,passive:!1}),r.addEventListener("click",U,{capture:!0,passive:!1}),r.addEventListener("keydown",j,{capture:!0,passive:!1}),r.addEventListener("keydown",O),l},Ve=function(){if(a.active)return r.removeEventListener("focusin",L,!0),r.removeEventListener("mousedown",C,!0),r.removeEventListener("touchstart",C,!0),r.removeEventListener("click",U,!0),r.removeEventListener("keydown",j,!0),r.removeEventListener("keydown",O),l},En=function(i){var c=i.some(function(f){var m=Array.from(f.removedNodes);return m.some(function(y){return y===a.mostRecentlyFocusedNode})});c&&w(d())},ve=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(En):void 0,K=function(){ve&&(ve.disconnect(),a.active&&!a.paused&&a.containers.map(function(i){ve.observe(i,{subtree:!0,childList:!0})}))};return l={get active(){return a.active},get paused(){return a.paused},activate:function(i){if(a.active)return this;var c=u(i,"onActivate"),f=u(i,"onPostActivate"),m=u(i,"checkCanFocusTrap");m||b(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=g(r),c?.();var y=function(){m&&b(),We(),K(),f?.()};return m?(m(a.containers.concat()).then(y,y),this):(y(),this)},deactivate:function(i){if(!a.active)return this;var c=$e({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},i);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,Ve(),a.active=!1,a.paused=!1,K(),Re.deactivateTrap(o,l);var f=u(c,"onDeactivate"),m=u(c,"onPostDeactivate"),y=u(c,"checkCanReturnFocus"),T=u(c,"returnFocus","returnFocusOnDeactivate");f?.();var v=function(){Ie(function(){T&&w(D(a.nodeFocusedBeforeActivation)),m?.()})};return T&&y?(y(D(a.nodeFocusedBeforeActivation)).then(v,v),this):(v(),this)},pause:function(i){return a.active?(a.manuallyPaused=!0,this._setPausedState(!0,i)):this},unpause:function(i){return a.active?(a.manuallyPaused=!1,o[o.length-1]!==this?this:this._setPausedState(!1,i)):this},updateContainerElements:function(i){var c=[].concat(i).filter(Boolean);return a.containers=c.map(function(f){return typeof f=="string"?r.querySelector(f):f}),a.active&&b(),K(),this}},Object.defineProperties(l,{_isManuallyPaused:{value:function(){return a.manuallyPaused}},_setPausedState:{value:function(i,c){if(a.paused===i)return this;if(a.paused=i,i){var f=u(c,"onPause"),m=u(c,"onPostPause");f?.(),Ve(),K(),m?.()}else{var y=u(c,"onUnpause"),T=u(c,"onPostUnpause");y?.(),b(),We(),K(),T?.()}return this}}}),l.updateContainerElements(e),l};const en={showClass:"popup-show",hideClass:"popup-hide",focusDuration:100};function tn(t={}){const{on:e,trigger:n}=window.ivent,r={...en,...t},o=new Map;e(document,"click","[data-popup-toggle]",a=>{a.preventDefault();const l=a.delegateTarget,u=l.getAttribute("data-popup-toggle").slice(1),p=document.querySelector(`[data-popup-id="${u}"]`);o.has(u)||o.set(u,{toggle:l,popup:p,focusTrap:Qt(p),focusTrapTimeout:null});const h=o.get(u);n(document,"pvs.popup.show",{relatedTarget:p,data:{id:u,toggle:l}}),p.classList.remove(r.hideClass),p.offsetHeight,p.classList.add(r.showClass),p.setAttribute("aria-hidden","false"),l.setAttribute("aria-expanded","true"),n(document,"pvs.popup.shown",{relatedTarget:p,data:{id:u,toggle:l}});const d=setTimeout(()=>{h.focusTrap?.activate()},r.focusDuration);h.focusTrapTimeout=d});function s(a){if(!a.classList.contains(r.showClass))return;const l=a.getAttribute("data-popup-id"),u=o.get(l),p=u.toggle;n(document,"pvs.popup.hide",{relatedTarget:a,data:{id:l,toggle:p}}),a.classList.remove(r.showClass),a.offsetHeight,a.classList.add(r.hideClass),a.setAttribute("aria-hidden","true"),p.setAttribute("aria-expanded","false"),n(document,"pvs.popup.hidden",{relatedTarget:a,data:{id:l,toggle:p}}),clearTimeout(u.focusTrapTimeout),u.focusTrap?.deactivate()}e(document,"click",".popup-close",a=>{a.preventDefault(),s(a.delegateTarget.closest(".popup"))}),e(document,"keyup",a=>{a.key==="Escape"&&o.forEach(({popup:l})=>{s(l)})}),e(document,"pvs.navigation.content-render",()=>{o.forEach(({popup:a})=>{s(a)}),o.clear()})}function nn(t){const e=parseFloat(t.getAttribute("data-pricing-month")),n=parseFloat(t.getAttribute("data-pricing-year"))/12,r=Math.round((e-n)/e*100);return r<1?0:r}function qe(){document.querySelectorAll(".pricing-discount > span").forEach(t=>{t.setAttribute("data-pricing-discount",nn(t))})}function rn(){const{on:t}=window.ivent;qe(),t(document,"ready pvs.navigation.content-rendered",qe)}function Me(t){const e=new URL(window.location.href);e.searchParams.set("pricing",t),window.history.replaceState({},"",e)}function an(){const t=new URLSearchParams(window.location.search).get("pricing");t&&document.querySelectorAll(".pricing-toggle-input").forEach(e=>{e.checked=t===e.value,e.checked&&Me(e.value)}),window.ivent.on(document,"focus",".pricing-toggle-input",e=>{Me(e.delegateTarget.value)})}function on(t,e,n){return(1-n)*t+n*e}function sn(t,e){let n=new Date().getTime();const r=1e3/e;return function o(){requestAnimationFrame(o);const s=new Date().getTime(),a=s-n;a>r&&(n=s-a%r,t())}()}function cn(t,e=1){const n=10**e;return Math.round(t*n)/n}const{on:ln}=window.ivent,un={selector:".scroll-progress"};function dn(){const t=window.scrollY,e=document.documentElement.scrollHeight-document.documentElement.clientHeight;return Math.max(0,Math.min(100,t/e*100))}function fn(t){const e={...un,...t},{selector:n}=e;let r=document.querySelectorAll(n);if(!r)return;let o=null;function s(){const a=dn(),l=on(o===null?a:o,a,.25);l!==o&&(o=l,r.forEach(u=>{u.style.setProperty("--scroll-progress",`${cn(o,2)}%`)}))}sn(s,60),ln(document,"pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",()=>{r=document.querySelectorAll(n)})}function pn(){const t=window.innerWidth-document.body.offsetWidth||parseFloat(window.getComputedStyle(document.body).paddingRight);return t?`${t}px`:""}function ne(){document.body.style.setProperty("--scrollbar-width",pn())}function hn(){const{on:t}=window.ivent;ne(),t(window,"resize",Ae(100,ne)),t(window,"orientationchange",ne),t(document,"pvs.navigation.content-rendered pvs.pagination.rendered",ne)}const{on:_e}=window.ivent,Be=new Set,He=new Set,je=t=>{t.forEach(e=>e())},gn=ue(200,()=>je(Be)),vn=Ae(200,()=>je(He)),Ue=()=>{gn(),vn()};_e(window,"scroll",Ue,{passive:!0}),_e(window,"orientationchange",Ue);function mn(t){Be.add(t)}function bn(t){He.add(t)}const{on:re,trigger:ge}=window.ivent,yn={initialized:!1,tocSelector:".toc",tocScrollSelector:".toc-scroll",toggleSelector:".toc-button",unlockLinkSelector:".toc-unlock-link",lockedPostTeaserSelector:".post-content-teaser",headingsSelector:".post-content > :where(h1, h2, h3)",tocHandledClassName:"toc-handled",activeLinkClassName:"active"};function Ke(t){return t.getBoundingClientRect().height}function wn(t){const e=document.createElement("ul"),n=[{level:0,element:e}];return t.forEach(r=>{const o=parseInt(r.tagName.charAt(1)),s=document.createElement("li"),a=document.createElement("a");for(a.textContent=r.getAttribute("data-heading-label")||r.textContent,a.href=`#${r.id}`,s.appendChild(a);n.length>1&&n[n.length-1].level>=o;)n.pop();const l=n[n.length-1].element;if(t.some(u=>parseInt(u.tagName.charAt(1))>o)){const u=document.createElement("ul");s.appendChild(u),l.appendChild(s),n.push({level:o,element:u})}else l.appendChild(s),n.push({level:o,element:l})}),e}function Sn(t){const e=document.querySelector(t.tocSelector);if(!e||e.classList.contains(t.tocHandledClassName))return;e.classList.add(t.tocHandledClassName);const n=Array.from(document.querySelectorAll(t.headingsSelector));if(!n.length)return;if(e.classList.contains("toc-hidden")){const h=wn(n),d=e.querySelector(t.unlockLinkSelector);if(d)if(document.querySelector(t.lockedPostTeaserSelector)){const b=document.createElement("li");d.style.display="",b.appendChild(d),h.appendChild(b)}else d.remove();e.appendChild(h),e.classList.remove("toc-hidden"),ge(document,"pvs.toc.rendered",{relatedTarget:e})}const r=n.map(h=>({heading:h,link:e.querySelector(`[href="#${h.id}"]`)})),o=t.tocScrollSelector?e.closest(t.tocScrollSelector):null,s=parseFloat(window.getComputedStyle(r[0].heading).scrollMarginTop),a=h=>Math.round(h.getBoundingClientRect().top-s);let l=!1;const u=()=>{r.forEach(({heading:h,link:d},b)=>{const g=r[b+1]?.heading;if(g&&a(h)<=0&&a(g)>0||!g&&a(h)<=0){if(d.classList.contains(t.activeLinkClassName))return;d.classList.add(t.activeLinkClassName),ge(document,"pvs.toc.activated-link",{relatedTarget:d}),l=d}else d.classList.remove(t.activeLinkClassName),ge(document,"pvs.toc.deactivated-link",{relatedTarget:d}),l===d&&(l=!1)})},p=()=>{if(!o||!l)return;const h=o.getBoundingClientRect(),d=l.getBoundingClientRect(),b=h.height/2,g=d.top-h.top+o.scrollTop+d.height/2;o.scrollTo({top:g-b,behavior:"smooth"}),l=!1};mn(()=>{u()}),re(window,"load",()=>{u()}),bn(()=>{p()}),re(window,"load",()=>{p()})}function Tn(t){let e=!1;const n=(r,o,s)=>{if(e)return;e=!0;const a=r.querySelector("ul"),l=Ke(r);s&&o.setAttribute("aria-expanded",s);const u=Ke(a);r.style.height=`${l}px`,r.offsetHeight,requestAnimationFrame(()=>{r.style.height=s?`${l+u}px`:`${l-u}px`,setTimeout(()=>{s||o.setAttribute("aria-expanded",s),r.style.height="",e=!1},300)})};re(document,"click",t.toggleSelector,r=>{r.preventDefault();const o=r.delegateTarget,s=document.querySelector(t.tocSelector),a=o.getAttribute("aria-expanded")==="false";n(s,o,a)})}function An(t={}){const e=window.pvs;if(!e)return;let n=!1;re(document,"ready pvs.navigation.content-rendered",()=>{const r={...yn,...t,...e.getTOCUserOptions()};(r.initialized||document.body.classList.contains("tag-hash-toc"))&&(Sn(r),!n&&r.toggleSelector&&(n=!0,Tn(r)))})}const A=window.pvs;A&&(A.initDarkMode=Je,A.getSelectedColorScheme=oe,A.getSystemColorScheme=ie,A.getActualColorScheme=se,A.updateColorScheme=G,A.initClipboard=Ge,A.initPopup=tn,A.initScrollProgress=fn,A.initScrollbarWidth=hn,A.initPagination=Tt,A.initCollapse=Xe,A.initDropdown=et,A.initPricingDiscount=rn,A.initPricingUrlSync=an,A.registerFeaturedVideo=st,A.registerFeaturedVideoPreview=ct,A.registerLightbox=ft,A.registerTOC=An)});
